\documentclass{amsart}

\input{decl-db}
\usepackage{txfonts}

%\oddsidemargin .5in 
%\evensidemargin .5in 
%textwidth 5.3in 

\def\Loc{{\bf Loc}}
\def\bigjoin{\bigvee}
\def\bigmeet{\bigwedge}
\def\join{\vee}
\def\meet{\wedge}
\def\Down{\Downarrow}
\newcommand{\TriRight}[7]{\xymatrix{#1\ar[dr]_{#2}\ar[rr]^{#3}&&#4\ar[dl]^{#5}\\&#6\ar@{}[u] |{\Longrightarrow}\ar@{}[u]|>>>>{#7}}}


%\usepackage{showkeys}

\begin{document}

\author{David I. Spivak}

\thanks{This project was supported in part by the Office of Naval Research.}

\title{Higher Tables}

\maketitle

\section{Derivation of tables}

Given a functor $\pi\taking T\to S$, define $d(S)=(\Cat\op\Down S)$ as follows.  An object in $d(S)$ is a category $C$ together with a functor $\sigma\taking C\to S$.  A morphism, denoted $$(F,F^\sharp)\taking(C,\sigma)\to(C',\sigma')$$ in $d(S)$, consists of a functor $F\taking C'\to C$ and a natural transformation $F^\sharp\taking \sigma'\to(\sigma\circ F)$, as depicted in the diagram $$\TriRight{C'}{\sigma'}{F}{C}{\sigma}{S}{F^\sharp}$$

There is a canonical functor $\Gamma\taking d(S)\to\Cat$, defined by assigning to each $(\sigma\taking C\to S)\in d(S)$ the category for which an object is a pair $(r,r^\sharp)$, where $r\taking C\to T$ is a functor and $r^\sharp\taking\sigma\to(\pi\circ r)$ is a natural transformation, as depicted in the diagram $$\xymatrix{&&T\ar[dd]^\pi\\\\C\ar[uurr]^r\ar[rr]_\sigma&\ar@{}[uur] |(.3){r^\sharp\Uparrow}&S}$$  A morphism $(r_1,r_1^\sharp)\to(r_2,r_2^\sharp)$ in $\Gamma(C,\sigma)$ is a natural transformation $\alpha\taking r_1\to r_2$ such that $\alpha\circ r_1^\sharp=r_2^\sharp$.

Let us define $\Gamma$ on morphisms in $dS$.  Given a morphism $(F,F^\sharp)\taking (C,\sigma)\to(C',\sigma')$, let $(r,r^\sharp)\in\Gamma(C,\sigma)$ denote an object.  Then $(r\circ F)\taking C'\to T$ is a functor and we have a composition of natural transformations $$\sigma'\To{F^\sharp}\sigma\circ F\To{r^\sharp}(\pi\circ r)\circ F=\pi\circ(r\circ F).$$  Together, these form a pair $((r\circ F),(r^\sharp\circ F^\sharp))\in\Gamma(C',\sigma')$, and we define $\Gamma(F,F^\sharp)$ on objects in this way.  In a similar way, we define $\Gamma(F,F^\sharp)$ for morphisms $\alpha\taking r_1\to r_2$.

Define a new category $d(T):=(\Cat\down\Gamma)$: an object is a pair $(K,\sigma,\tau)$ where $K\in\Cat$ is a category, $\sigma\in d(S)$ is an object, and $\tau\taking K\to\Gamma(\sigma)$ is a functor; a morphism $(K,\sigma,\tau)\to(K',\sigma',\tau')$ consists of a functor $K\to K'$ and a map $\sigma\to\sigma'$ in $dS$, such that the square $$\xymatrix{K\ar[r]\ar[d]&\Gamma(\sigma)\ar[d]\\K'\ar[r]&\Gamma(\sigma')}$$ commutes.  

Finally, define $d(\pi)\taking d(T)\to d(S)$ by the natural projection, $d(\pi)(K,\sigma,\tau):=\sigma$.  We call $d(\pi)$ the {\em derivation of $\pi$}.

\section{Comparison}

There is a natural functor $S\to dS$ defined by sending $s\in S$ to $(\singleton\mapsto s)\in(\Cat\op\Down S)$.

\bibliographystyle{amsalpha}
\bibliography{biblio}

\end{document}