<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>EquivalenceClass</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library EquivalenceClass</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Setoids.Setoid.html#"><span class="id" type="library">Setoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Logic.ProofIrrelevance.html#"><span class="id" type="library">ProofIrrelevance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Logic.FunctionalExtensionality.html#"><span class="id" type="library">FunctionalExtensionality</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Sets.Ensembles.html#"><span class="id" type="library">Ensembles</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Common.html#"><span class="id" type="library">Common</span></a> <a class="idref" href="Notations.html#"><span class="id" type="library">Notations</span></a>.<br/>

<br/>
<span class="id" type="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
   An equivalence class is a non-empty set of all values
   which are all equivalent to some particular value.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Ltac</span> <span class="id" type="var">specialize_with</span> <span class="id" type="var">tac</span> <span class="id" type="var">fin_tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">x</span> : ?<span class="id" type="var">T</span>, <span class="id" type="var">H</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">_</span> : ?<span class="id" type="var">T</span>, <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> ] ⇒ <span class="id" type="tactic">specialize</span> (<span class="id" type="var">H</span> <span class="id" type="var">x</span>); <span class="id" type="var">tac</span>; <span class="id" type="var">specialize_with</span> <span class="id" type="var">tac</span> <span class="id" type="var">fin_tac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> ⇒ <span class="id" type="var">fin_tac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="EquivalenceClass"><span class="id" type="section">EquivalenceClass</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="EquivalenceClass.value"><span class="id" type="variable">value</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="EquivalenceClass.equiv"><span class="id" type="variable">equiv</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass.value"><span class="id" type="variable">value</span></a> → <a class="idref" href="EquivalenceClass.html#EquivalenceClass.value"><span class="id" type="variable">value</span></a> → <span class="id" type="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Record</span> <a name="EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="InClass"><span class="id" type="projection">InClass</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass.value"><span class="id" type="variable">value</span></a> → <span class="id" type="keyword">Prop</span>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ClassInhabited"><span class="id" type="projection">ClassInhabited</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="method">InClass</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ClassEquivalent</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Relations.Relation_Definitions.html#relation"><span class="id" type="definition">relation</span></a> <a class="idref" href="EquivalenceClass.html#EquivalenceClass.value"><span class="id" type="variable">value</span></a> := <a class="idref" href="EquivalenceClass.html#EquivalenceClass.equiv"><span class="id" type="variable">equiv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ClassEquivalent_refl"><span class="id" type="projection">ClassEquivalent_refl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Reflexive"><span class="id" type="class">Reflexive</span></a> <a class="idref" href="EquivalenceClass.html#ClassEquivalent"><span class="id" type="method">ClassEquivalent</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ClassEquivalent_sym"><span class="id" type="projection">ClassEquivalent_sym</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Symmetric"><span class="id" type="class">Symmetric</span></a> <a class="idref" href="EquivalenceClass.html#ClassEquivalent"><span class="id" type="method">ClassEquivalent</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ClassEquivalent_trans"><span class="id" type="projection">ClassEquivalent_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Transitive"><span class="id" type="class">Transitive</span></a> <a class="idref" href="EquivalenceClass.html#ClassEquivalent"><span class="id" type="method">ClassEquivalent</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ClassElementsEquivalent"><span class="id" type="projection">ClassElementsEquivalent</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="method">InClass</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">v'</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="method">InClass</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a> → <a class="idref" href="EquivalenceClass.html#ClassEquivalent"><span class="id" type="method">ClassEquivalent</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ClassContainsEquivalent"><span class="id" type="projection">ClassContainsEquivalent</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="method">InClass</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">v'</span>, <a class="idref" href="EquivalenceClass.html#ClassEquivalent"><span class="id" type="method">ClassEquivalent</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a> → <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="method">InClass</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a><br/>
&nbsp;&nbsp;}.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="section">EquivalenceClass</span></a>.<br/>

<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> <span class="id" type="var">value</span> <span class="id" type="var">equiv</span> (<span class="id" type="var">E</span> : @<a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#value"><span class="id" type="variable">value</span></a> <a class="idref" href="EquivalenceClass.html#equiv"><span class="id" type="variable">equiv</span></a>) : <span class="id" type="var">_</span> (<a class="idref" href="EquivalenceClass.html#ClassEquivalent"><span class="id" type="projection">ClassEquivalent</span></a> <a class="idref" href="EquivalenceClass.html#E"><span class="id" type="variable">E</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_refl"><span class="id" type="projection">ClassEquivalent_refl</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_sym"><span class="id" type="projection">ClassEquivalent_sym</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_trans"><span class="id" type="projection">ClassEquivalent_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">ClassEquivalent_rel</span>.<br/>

<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Morphism</span> <span class="id" type="var">value</span> <span class="id" type="var">equiv</span> (<span class="id" type="var">E</span> : @<a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#value"><span class="id" type="variable">value</span></a> <a class="idref" href="EquivalenceClass.html#equiv"><span class="id" type="variable">equiv</span></a>) : (<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#E"><span class="id" type="variable">E</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">with</span> <span class="id" type="var">signature</span> <a class="idref" href="EquivalenceClass.html#equiv"><span class="id" type="variable">equiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Morphisms.html#ProperNotations.:signature_scope:x_'==>'_x"><span class="id" type="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#iff"><span class="id" type="definition">iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">InClass_mor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">eqv</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">inc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="EquivalenceClass.html#ClassContainsEquivalent"><span class="id" type="projection">ClassContainsEquivalent</span></a>; <span class="id" type="tactic">eauto</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">eauto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="equiv"><span class="id" type="section">equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="equiv.value"><span class="id" type="variable">value</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="equiv.equiv"><span class="id" type="variable">equiv</span></a> : <a class="idref" href="EquivalenceClass.html#equiv.value"><span class="id" type="variable">value</span></a> → <a class="idref" href="EquivalenceClass.html#equiv.value"><span class="id" type="variable">value</span></a> → <span class="id" type="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="equiv.equiv_Equivalence"><span class="id" type="variable">equiv_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Equivalence"><span class="id" type="class">Equivalence</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> : <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_reflexive"><span class="id" type="instance">Equivalence.equiv_reflexive</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_symmetric"><span class="id" type="instance">Equivalence.equiv_symmetric</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_transitive"><span class="id" type="instance">Equivalence.equiv_transitive</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">equiv_equiv_rel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Infix</span> <a name="equiv.::x_'~='_x"><span class="id" type="notation">"</span></a>~=" := <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 70).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Ltac</span> <span class="id" type="var">simpl_equiv</span> := <span class="id" type="tactic">hnf</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">trivial</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> ⇒ <span class="id" type="tactic">solve</span> [ <span class="id" type="tactic">reflexivity</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> ⇒ <span class="id" type="tactic">solve</span> [ <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">trivial</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> ⇒ <span class="id" type="tactic">solve</span> [ <span class="id" type="var">etransitivity</span>; <span class="id" type="tactic">eauto</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> ⇒ <span class="id" type="tactic">solve</span> [ <span class="id" type="tactic">symmetry</span>; <span class="id" type="var">etransitivity</span>; <span class="id" type="tactic">eauto</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> ⇒ <span class="id" type="tactic">solve</span> [ <span class="id" type="var">etransitivity</span>; <span class="id" type="tactic">eauto</span>; <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">eauto</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a> |- <span class="id" type="var">_</span> ] ⇒ <span class="id" type="var">contradict</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">trivial</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">¬</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> ] ⇒ <span class="id" type="var">contradict</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">trivial</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="classOf"><span class="id" type="definition">classOf</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="EquivalenceClass.html#equiv.value"><span class="id" type="variable">value</span></a>) : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">v'</span> ⇒ <span class="id" type="var">v</span> <a class="idref" href="EquivalenceClass.html#equiv.::x_'~='_x"><span class="id" type="notation">~=</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">esplit</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <span class="id" type="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">simpl_equiv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="classOf_refl"><span class="id" type="lemma">classOf_refl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> (<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">compute</span>; <span class="id" type="tactic">intro</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="sameClass"><span class="id" type="definition">sameClass</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) := <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, (<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="disjointClasses"><span class="id" type="definition">disjointClasses</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) := <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">¬</span></a><a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">¬</span></a><a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="differentClasses"><span class="id" type="definition">differentClasses</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">¬</span></a><a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">¬</span></a><a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="notDisjointClasses"><span class="id" type="definition">notDisjointClasses</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="notDisjointClasses'"><span class="id" type="definition">notDisjointClasses'</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">v</span> <span class="id" type="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="sameClass_refl"><span class="id" type="lemma">sameClass_refl</span></a> (<span class="id" type="var">C</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="sameClass_sym"><span class="id" type="lemma">sameClass_sym</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> → <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="sameClass_trans"><span class="id" type="lemma">sameClass_trans</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> <span class="id" type="var">C''</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> → <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#C''"><span class="id" type="variable">C''</span></a> → <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C''"><span class="id" type="variable">C''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="sameClass_eq"><span class="id" type="lemma">sameClass_eq</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : (<a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>) → (<a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">cut</span> (<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <span class="id" type="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <span class="id" type="var">C'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">C</span>, <span class="id" type="var">C'</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <span class="id" type="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">split_iff</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Sets.Ensembles.html#Extensionality_Ensembles"><span class="id" type="axiom">Extensionality_Ensembles</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">hnf</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">hnf</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="eq_sameClass"><span class="id" type="lemma">eq_sameClass</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> → <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#sameClass_refl"><span class="id" type="lemma">sameClass_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Morphism</span> : <a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> <span class="id" type="var">signature</span> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Morphisms.html#ProperNotations.:signature_scope:x_'==>'_x"><span class="id" type="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#eq"><span class="id" type="inductive">eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">classOf_mor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">eqv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#sameClass_eq"><span class="id" type="lemma">sameClass_eq</span></a>; <span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> *; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="var">simpl_equiv</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="classOf_eq"><span class="id" type="lemma">classOf_eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <a class="idref" href="EquivalenceClass.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <a class="idref" href="EquivalenceClass.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <a class="idref" href="EquivalenceClass.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="EquivalenceClass.html#y"><span class="id" type="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#classOf_mor"><span class="id" type="definition">classOf_mor</span></a>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<a class="idref" href="EquivalenceClass.html#classOf_refl"><span class="id" type="lemma">classOf_refl</span></a> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<a class="idref" href="EquivalenceClass.html#classOf_refl"><span class="id" type="lemma">classOf_refl</span></a> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">compute</span> <span class="id" type="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">simpl_equiv</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="disjointClasses_differentClasses"><span class="id" type="lemma">disjointClasses_differentClasses</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : (<a class="idref" href="EquivalenceClass.html#disjointClasses"><span class="id" type="definition">disjointClasses</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>) → (<a class="idref" href="EquivalenceClass.html#differentClasses"><span class="id" type="definition">differentClasses</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="EquivalenceClass.html#differentClasses"><span class="id" type="definition">differentClasses</span></a>, <a class="idref" href="EquivalenceClass.html#disjointClasses"><span class="id" type="definition">disjointClasses</span></a>; <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<a class="idref" href="EquivalenceClass.html#ClassInhabited"><span class="id" type="projection">ClassInhabited</span></a> <span class="id" type="var">C</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">H'</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H'</span> <span class="id" type="keyword">as</span> [ <span class="id" type="var">x</span> <span class="id" type="var">H'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">specialize</span> (<span class="id" type="var">H</span> <span class="id" type="var">x</span>); <span class="id" type="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="notDisjointClasses_sameClass"><span class="id" type="lemma">notDisjointClasses_sameClass</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : (<a class="idref" href="EquivalenceClass.html#notDisjointClasses"><span class="id" type="definition">notDisjointClasses</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>) → (<a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="EquivalenceClass.html#notDisjointClasses"><span class="id" type="definition">notDisjointClasses</span></a>, <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a>; <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [ <span class="id" type="var">x</span> [ <span class="id" type="var">H0</span> <span class="id" type="var">H1</span> ] ]; <span class="id" type="tactic">intro</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H0</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">x</span>, <span class="id" type="var">H1</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">y</span> |- <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C'</span> ?<span class="id" type="var">x</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" type="keyword">let</span> <span class="id" type="var">H</span> := <span class="id" type="tactic">fresh</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) <span class="id" type="tactic">by</span> (<span class="id" type="tactic">apply</span> (<a class="idref" href="EquivalenceClass.html#ClassElementsEquivalent"><span class="id" type="projection">ClassElementsEquivalent</span></a> <span class="id" type="var">C</span>); <span class="id" type="tactic">assumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="notDisjointClasses_eq"><span class="id" type="lemma">notDisjointClasses_eq</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) : (<a class="idref" href="EquivalenceClass.html#notDisjointClasses"><span class="id" type="definition">notDisjointClasses</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>) → <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">intro</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#sameClass_eq"><span class="id" type="lemma">sameClass_eq</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#notDisjointClasses_sameClass"><span class="id" type="lemma">notDisjointClasses_sameClass</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="EquivalenceClass_forall_equiv__eq"><span class="id" type="lemma">EquivalenceClass_forall_equiv__eq</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span>, (<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>) → (<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>)) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#sameClass_eq"><span class="id" type="lemma">sameClass_eq</span></a>; <span class="id" type="tactic">unfold</span> <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a>; <span class="id" type="tactic">intro</span> <span class="id" type="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a> <span class="id" type="var">v</span> <span class="id" type="var">v</span>) <span class="id" type="tactic">by</span> <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="EquivalenceClass_forall__eq"><span class="id" type="lemma">EquivalenceClass_forall__eq</span></a> (<span class="id" type="var">C</span> <span class="id" type="var">C'</span> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#equiv.equiv"><span class="id" type="variable">equiv</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="EquivalenceClass.html#C'"><span class="id" type="variable">C'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#C"><span class="id" type="variable">C</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">equiv_Equivalence</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#sameClass_eq"><span class="id" type="lemma">sameClass_eq</span></a>; <span class="id" type="tactic">unfold</span> <a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="EquivalenceClass.html#equiv"><span class="id" type="section">equiv</span></a>.<br/>

<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> <span class="id" type="var">value</span> <span class="id" type="var">equiv</span> : <span class="id" type="var">_</span> (@<a class="idref" href="EquivalenceClass.html#sameClass"><span class="id" type="definition">sameClass</span></a> <a class="idref" href="EquivalenceClass.html#value"><span class="id" type="variable">value</span></a> <a class="idref" href="EquivalenceClass.html#equiv"><span class="id" type="variable">equiv</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#sameClass_refl"><span class="id" type="lemma">sameClass_refl</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#sameClass_sym"><span class="id" type="lemma">sameClass_sym</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#sameClass_trans"><span class="id" type="lemma">sameClass_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">sameClass_mor</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="InClass_classOf"><span class="id" type="section">InClass_classOf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="InClass_classOf.value"><span class="id" type="variable">value</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="InClass_classOf.equiv"><span class="id" type="variable">equiv</span></a> : <a class="idref" href="EquivalenceClass.html#InClass_classOf.value"><span class="id" type="variable">value</span></a> → <a class="idref" href="EquivalenceClass.html#InClass_classOf.value"><span class="id" type="variable">value</span></a> → <span class="id" type="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="InClass_classOf.C"><span class="id" type="variable">C</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#InClass_classOf.equiv"><span class="id" type="variable">equiv</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="InClass_classOf_eq"><span class="id" type="lemma">InClass_classOf_eq</span></a> <span class="id" type="var">eqv</span> <span class="id" type="var">v</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#InClass_classOf.C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="EquivalenceClass.html#InClass_classOf.C"><span class="id" type="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <a class="idref" href="EquivalenceClass.html#eqv"><span class="id" type="variable">eqv</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#sameClass_eq"><span class="id" type="lemma">sameClass_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <span class="id" type="var">eqv</span> <span class="id" type="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<a class="idref" href="EquivalenceClass.html#classOf_refl"><span class="id" type="lemma">classOf_refl</span></a> <span class="id" type="var">eqv</span> <span class="id" type="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (@<a class="idref" href="EquivalenceClass.html#ClassContainsEquivalent"><span class="id" type="projection">ClassContainsEquivalent</span></a> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#InClass_classOf.equiv"><span class="id" type="variable">equiv</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (@<a class="idref" href="EquivalenceClass.html#ClassElementsEquivalent"><span class="id" type="projection">ClassElementsEquivalent</span></a> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#InClass_classOf.equiv"><span class="id" type="variable">equiv</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">specialize_all_ways</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="InClass_classOf.C_Equivalence"><span class="id" type="variable">C_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Equivalence"><span class="id" type="class">Equivalence</span></a> <a class="idref" href="EquivalenceClass.html#InClass_classOf.equiv"><span class="id" type="variable">equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">Equivalence_Reflexive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">:=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">ClassEquivalent_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">Equivalence_Symmetric</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">:=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">ClassEquivalent_sym</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">Equivalence_Transitive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">:=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">ClassEquivalent_trans</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Build_Equivalence"><span class="id" type="constructor">C</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="InClass_classOf_eq'"><span class="id" type="definition">InClass_classOf_eq'</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#InClass_classOf.C"><span class="id" type="variable">C</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="EquivalenceClass.html#InClass_classOf.C"><span class="id" type="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <a class="idref" href="EquivalenceClass.html#InClass_classOf.C_Equivalence"><span class="id" type="variable">C_Equivalence</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="EquivalenceClass.html#InClass_classOf_eq"><span class="id" type="lemma">InClass_classOf_eq</span></a> <a class="idref" href="EquivalenceClass.html#InClass_classOf.C_Equivalence"><span class="id" type="variable">C_Equivalence</span></a>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="EquivalenceClass.html#InClass_classOf"><span class="id" type="section">InClass_classOf</span></a>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">create_classOf_InClass</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> (@<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">e</span> ?<span class="id" type="var">eq</span> ?<span class="id" type="var">val</span>) <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> ] ⇒ <span class="id" type="var">unique_pose</span> (@<a class="idref" href="EquivalenceClass.html#classOf_refl"><span class="id" type="lemma">classOf_refl</span></a> <span class="id" type="var">v</span> <span class="id" type="var">e</span> <span class="id" type="var">eq</span> <span class="id" type="var">val</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> (@<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">e</span> ?<span class="id" type="var">eq</span> ?<span class="id" type="var">val</span>) <span class="id" type="var">_</span> ] ⇒ <span class="id" type="var">unique_pose</span> (@<a class="idref" href="EquivalenceClass.html#classOf_refl"><span class="id" type="lemma">classOf_refl</span></a> <span class="id" type="var">v</span> <span class="id" type="var">e</span> <span class="id" type="var">eq</span> <span class="id" type="var">val</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">replace_InClass</span> := <span class="id" type="var">create_classOf_InClass</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">x</span>, <span class="id" type="var">H'</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">x'</span> |- <span class="id" type="var">_</span> ] ⇒ <span class="id" type="var">unique_pose</span> (<a class="idref" href="EquivalenceClass.html#ClassElementsEquivalent"><span class="id" type="projection">ClassElementsEquivalent</span></a> <span class="id" type="var">C</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span> <span class="id" type="var">_</span> <span class="id" type="var">H'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">clear</span> <span class="id" type="var">H'</span> || <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">x</span> |- <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">x'</span> ] ⇒ <span class="id" type="tactic">apply</span> (<a class="idref" href="EquivalenceClass.html#ClassContainsEquivalent"><span class="id" type="projection">ClassContainsEquivalent</span></a> <span class="id" type="var">C</span> <span class="id" type="var">x</span> <span class="id" type="var">H</span> <span class="id" type="var">x'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">v</span> : ?<span class="id" type="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> @?<span class="id" type="var">G</span> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">G</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">appcontext</span>[<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">v</span>] ⇒ <span class="id" type="tactic">fail</span> 1 <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">appcontext</span>[<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> <span class="id" type="var">_</span>] ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">v</span> := <span class="id" type="tactic">fresh</span> <span class="id" type="keyword">in</span> <span class="id" type="keyword">let</span> <span class="id" type="var">H</span> := <span class="id" type="tactic">fresh</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="EquivalenceClass.html#ClassInhabited"><span class="id" type="projection">ClassInhabited</span></a> <span class="id" type="var">C</span>) <span class="id" type="keyword">as</span> [ <span class="id" type="var">v</span> <span class="id" type="var">H</span> ]; <span class="id" type="tactic">∃</span> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <span class="id" type="var">_</span> ] ⇒ <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="var">create_classOf_InClass</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">InClass2classOf</span> <span class="id" type="var">eqv</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">x</span> |- <span class="id" type="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (@<a class="idref" href="EquivalenceClass.html#InClass_classOf_eq"><span class="id" type="lemma">InClass_classOf_eq</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">C</span> <span class="id" type="var">eqv</span> <span class="id" type="var">_</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">InClass2classOf'</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> ?<span class="id" type="var">C</span> ?<span class="id" type="var">x</span> |- <span class="id" type="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (@<a class="idref" href="EquivalenceClass.html#InClass_classOf_eq'"><span class="id" type="definition">InClass_classOf_eq'</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">C</span> <span class="id" type="var">_</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Hint Extern</span> 1 (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#eq"><span class="id" type="inductive">eq</span></a> (<a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>) ⇒ <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#EquivalenceClass_forall__eq"><span class="id" type="lemma">EquivalenceClass_forall__eq</span></a>; <span class="id" type="var">replace_InClass</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">clear_InClass'</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" type="keyword">context</span>[<a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a>] ] ⇒ <span class="id" type="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">H</span> : <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> ] ⇒ <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">clear_InClass</span> := <span class="id" type="var">replace_InClass</span>; <span class="id" type="var">clear_InClass'</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="apply1"><span class="id" type="section">apply1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply1.value0"><span class="id" type="variable">value0</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply1.equiv0"><span class="id" type="variable">equiv0</span></a> : <a class="idref" href="EquivalenceClass.html#apply1.value0"><span class="id" type="variable">value0</span></a> → <a class="idref" href="EquivalenceClass.html#apply1.value0"><span class="id" type="variable">value0</span></a> → <span class="id" type="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply1.value'"><span class="id" type="variable">value'</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply1.equiv'"><span class="id" type="variable">equiv'</span></a> : <a class="idref" href="EquivalenceClass.html#apply1.value'"><span class="id" type="variable">value'</span></a> → <a class="idref" href="EquivalenceClass.html#apply1.value'"><span class="id" type="variable">value'</span></a> → <span class="id" type="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply1.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="EquivalenceClass.html#apply1.value0"><span class="id" type="variable">value0</span></a> → <a class="idref" href="EquivalenceClass.html#apply1.value'"><span class="id" type="variable">value'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="apply1.f_mor"><span class="id" type="variable">f_mor</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span>, <a class="idref" href="EquivalenceClass.html#apply1.equiv0"><span class="id" type="variable">equiv0</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a> → <a class="idref" href="EquivalenceClass.html#apply1.equiv'"><span class="id" type="variable">equiv'</span></a> (<a class="idref" href="EquivalenceClass.html#apply1.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="EquivalenceClass.html#apply1.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply1.E0"><span class="id" type="variable">E0</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#apply1.equiv0"><span class="id" type="variable">equiv0</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> : <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply1.equiv0"><span class="id" type="variable">equiv0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="EquivalenceClass.html#ClassEquivalent_refl"><span class="id" type="projection">ClassEquivalent_refl</span></a> <a class="idref" href="EquivalenceClass.html#apply1.E0"><span class="id" type="variable">E0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="EquivalenceClass.html#ClassEquivalent_sym"><span class="id" type="projection">ClassEquivalent_sym</span></a> <a class="idref" href="EquivalenceClass.html#apply1.E0"><span class="id" type="variable">E0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="EquivalenceClass.html#ClassEquivalent_trans"><span class="id" type="projection">ClassEquivalent_trans</span></a> <a class="idref" href="EquivalenceClass.html#apply1.E0"><span class="id" type="variable">E0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">apply_equiv_rel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="apply1.equiv'_Equivalence"><span class="id" type="variable">equiv'_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Equivalence"><span class="id" type="class">Equivalence</span></a> <a class="idref" href="EquivalenceClass.html#apply1.equiv'"><span class="id" type="variable">equiv'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> : <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply1.equiv'"><span class="id" type="variable">equiv'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_reflexive"><span class="id" type="instance">Equivalence.equiv_reflexive</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_symmetric"><span class="id" type="instance">Equivalence.equiv_symmetric</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_transitive"><span class="id" type="instance">Equivalence.equiv_transitive</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">apply_equiv'_rel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hint Resolve</span> <a class="idref" href="EquivalenceClass.html#apply1.f_mor"><span class="id" type="variable">f_mor</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="apply_to_class"><span class="id" type="definition">apply_to_class</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#apply1.equiv'"><span class="id" type="variable">equiv'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> {| <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">InClass</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">:=</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">(</span></a><span class="id" type="keyword">fun</span> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">⇒</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">∃</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v0</span></a><a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">,</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">InClass</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">E0</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v0</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">∧</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">equiv'</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">(</span></a><a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">f</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v0</span></a><a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">))</span></a> |};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<span class="id" type="tactic">solve</span> [ <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">abstract</span> (<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">assumption</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">abstract</span> (<span class="id" type="var">etransitivity</span>; <span class="id" type="tactic">eauto</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">destruct</span> (<a class="idref" href="EquivalenceClass.html#ClassInhabited"><span class="id" type="projection">ClassInhabited</span></a> <a class="idref" href="EquivalenceClass.html#apply1.E0"><span class="id" type="variable">E0</span></a>) <span class="id" type="keyword">as</span> [ <span class="id" type="var">v0</span> ]; <span class="id" type="tactic">∃</span> (<a class="idref" href="EquivalenceClass.html#apply1.f"><span class="id" type="variable">f</span></a> <span class="id" type="var">v0</span>); <span class="id" type="tactic">eexists</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">eauto</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#apply1.f_mor"><span class="id" type="variable">f_mor</span></a>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">destruct_hypotheses</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">esplit</span>; <span class="id" type="var">clear_InClass</span>; <span class="id" type="var">repeat_subst_mor_of_type</span> <a class="idref" href="EquivalenceClass.html#apply1.value'"><span class="id" type="variable">value'</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#apply1.f_mor"><span class="id" type="variable">f_mor</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">solve</span> [ <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">abstract</span> (<span class="id" type="var">etransitivity</span>; <span class="id" type="tactic">eauto</span>) ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="apply_to_class_f_inj"><span class="id" type="lemma">apply_to_class_f_inj</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply1.E0"><span class="id" type="variable">E0</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply_to_class"><span class="id" type="definition">apply_to_class</span></a> (<a class="idref" href="EquivalenceClass.html#apply1.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">compute</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="apply_to_class_f_surj"><span class="id" type="lemma">apply_to_class_f_surj</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply_to_class"><span class="id" type="definition">apply_to_class</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="EquivalenceClass.html#apply1.equiv'"><span class="id" type="variable">equiv'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="EquivalenceClass.html#apply1.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply1.E0"><span class="id" type="variable">E0</span></a> <a class="idref" href="EquivalenceClass.html#v'"><span class="id" type="variable">v'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">compute</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="EquivalenceClass.html#apply1"><span class="id" type="section">apply1</span></a>.<br/>

<br/>
<span class="id" type="keyword">Hint Resolve</span> <a class="idref" href="EquivalenceClass.html#apply_to_class_f_inj"><span class="id" type="lemma">apply_to_class_f_inj</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="apply_to_classOf"><span class="id" type="lemma">apply_to_classOf</span></a> <span class="id" type="var">value0</span> <span class="id" type="var">equiv0</span> <span class="id" type="var">equiv0_eqv</span> <span class="id" type="var">value'</span> <span class="id" type="var">equiv'</span> <span class="id" type="var">equiv'_eqv</span> <span class="id" type="var">f</span> <span class="id" type="var">f_mor</span> <span class="id" type="var">e0</span> :<br/>
&nbsp;&nbsp;@<a class="idref" href="EquivalenceClass.html#apply_to_class"><span class="id" type="definition">apply_to_class</span></a> <a class="idref" href="EquivalenceClass.html#value0"><span class="id" type="variable">value0</span></a> <a class="idref" href="EquivalenceClass.html#equiv0"><span class="id" type="variable">equiv0</span></a> <a class="idref" href="EquivalenceClass.html#value'"><span class="id" type="variable">value'</span></a> <a class="idref" href="EquivalenceClass.html#equiv'"><span class="id" type="variable">equiv'</span></a> <a class="idref" href="EquivalenceClass.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#f_mor"><span class="id" type="variable">f_mor</span></a><br/>
&nbsp;&nbsp;(@<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#equiv0_eqv"><span class="id" type="variable">equiv0_eqv</span></a> <a class="idref" href="EquivalenceClass.html#e0"><span class="id" type="variable">e0</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="EquivalenceClass.html#equiv'_eqv"><span class="id" type="variable">equiv'_eqv</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> @<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#equiv'_eqv"><span class="id" type="variable">equiv'_eqv</span></a> (<a class="idref" href="EquivalenceClass.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#e0"><span class="id" type="variable">e0</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#EquivalenceClass_forall__eq"><span class="id" type="lemma">EquivalenceClass_forall__eq</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">hnf</span> <span class="id" type="keyword">in</span> *; <span class="id" type="var">destruct_hypotheses</span>; <span class="id" type="var">replace_InClass</span>; <span class="id" type="var">repeat_subst_mor_of_type</span> <span class="id" type="var">value'</span>; <span class="id" type="tactic">eauto</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="apply2"><span class="id" type="section">apply2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.value0"><span class="id" type="variable">value0</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.equiv0"><span class="id" type="variable">equiv0</span></a> : <a class="idref" href="EquivalenceClass.html#apply2.value0"><span class="id" type="variable">value0</span></a> → <a class="idref" href="EquivalenceClass.html#apply2.value0"><span class="id" type="variable">value0</span></a> → <span class="id" type="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.value1"><span class="id" type="variable">value1</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.equiv1"><span class="id" type="variable">equiv1</span></a> : <a class="idref" href="EquivalenceClass.html#apply2.value1"><span class="id" type="variable">value1</span></a> → <a class="idref" href="EquivalenceClass.html#apply2.value1"><span class="id" type="variable">value1</span></a> → <span class="id" type="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.value'"><span class="id" type="variable">value'</span></a> : <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.equiv'"><span class="id" type="variable">equiv'</span></a> : <a class="idref" href="EquivalenceClass.html#apply2.value'"><span class="id" type="variable">value'</span></a> → <a class="idref" href="EquivalenceClass.html#apply2.value'"><span class="id" type="variable">value'</span></a> → <span class="id" type="keyword">Prop</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="apply2.equiv'_Equivalence"><span class="id" type="variable">equiv'_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.RelationClasses.html#Equivalence"><span class="id" type="class">Equivalence</span></a> <a class="idref" href="EquivalenceClass.html#apply2.equiv'"><span class="id" type="variable">equiv'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> : <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.equiv'"><span class="id" type="variable">equiv'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_reflexive"><span class="id" type="instance">Equivalence.equiv_reflexive</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_symmetric"><span class="id" type="instance">Equivalence.equiv_symmetric</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Classes.Equivalence.html#equiv_transitive"><span class="id" type="instance">Equivalence.equiv_transitive</span></a> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">apply2_equiv'_rel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.f"><span class="id" type="variable">f</span></a> : <a class="idref" href="EquivalenceClass.html#apply2.value0"><span class="id" type="variable">value0</span></a> → <a class="idref" href="EquivalenceClass.html#apply2.value1"><span class="id" type="variable">value1</span></a> → <a class="idref" href="EquivalenceClass.html#apply2.value'"><span class="id" type="variable">value'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="apply2.f_mor"><span class="id" type="variable">f_mor</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v0</span> <span class="id" type="var">v0'</span>, <a class="idref" href="EquivalenceClass.html#apply2.equiv0"><span class="id" type="variable">equiv0</span></a> <a class="idref" href="EquivalenceClass.html#v0"><span class="id" type="variable">v0</span></a> <a class="idref" href="EquivalenceClass.html#v0'"><span class="id" type="variable">v0'</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">v1</span> <span class="id" type="var">v1'</span>, <a class="idref" href="EquivalenceClass.html#apply2.equiv1"><span class="id" type="variable">equiv1</span></a> <a class="idref" href="EquivalenceClass.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="EquivalenceClass.html#v1'"><span class="id" type="variable">v1'</span></a> → <a class="idref" href="EquivalenceClass.html#apply2.equiv'"><span class="id" type="variable">equiv'</span></a> (<a class="idref" href="EquivalenceClass.html#apply2.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v0"><span class="id" type="variable">v0</span></a> <a class="idref" href="EquivalenceClass.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="EquivalenceClass.html#apply2.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v0'"><span class="id" type="variable">v0'</span></a> <a class="idref" href="EquivalenceClass.html#v1'"><span class="id" type="variable">v1'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.E0"><span class="id" type="variable">E0</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2.equiv0"><span class="id" type="variable">equiv0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="apply2.E1"><span class="id" type="variable">E1</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2.equiv1"><span class="id" type="variable">equiv1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> : <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.equiv0"><span class="id" type="variable">equiv0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_refl"><span class="id" type="projection">ClassEquivalent_refl</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.E0"><span class="id" type="variable">E0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_sym"><span class="id" type="projection">ClassEquivalent_sym</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.E0"><span class="id" type="variable">E0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_trans"><span class="id" type="projection">ClassEquivalent_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.E0"><span class="id" type="variable">E0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">apply2_equiv0_rel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Add</span> <span class="id" type="var">Parametric</span> <span class="id" type="var">Relation</span> : <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.equiv1"><span class="id" type="variable">equiv1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_refl"><span class="id" type="projection">ClassEquivalent_refl</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.E1"><span class="id" type="variable">E1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_sym"><span class="id" type="projection">ClassEquivalent_sym</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.E1"><span class="id" type="variable">E1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> <span class="id" type="var">proved</span> <span class="id" type="tactic">by</span> (@<a class="idref" href="EquivalenceClass.html#ClassEquivalent_trans"><span class="id" type="projection">ClassEquivalent_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#apply2.E1"><span class="id" type="variable">E1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">apply2_equiv1_rel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="apply2_to_class"><span class="id" type="definition">apply2_to_class</span></a> : <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2.equiv'"><span class="id" type="variable">equiv'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> {| <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">InClass</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">:=</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">(</span></a><span class="id" type="keyword">fun</span> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">⇒</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">∃</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v0</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v1</span></a><a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">,</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">InClass</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">E0</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v0</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">∧</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">InClass</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">E1</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v1</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">∧</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">equiv'</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">(</span></a><a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">f</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v0</span></a> <a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">v1</span></a><a class="idref" href="EquivalenceClass.html#Build_EquivalenceClass"><span class="id" type="constructor">))</span></a> |};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">solve</span> [ <span class="id" type="tactic">reflexivity</span> || (<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">assumption</span>) || (<span class="id" type="var">etransitivity</span>; <span class="id" type="tactic">eauto</span>) ] ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="EquivalenceClass.html#ClassInhabited"><span class="id" type="projection">ClassInhabited</span></a> <a class="idref" href="EquivalenceClass.html#apply2.E0"><span class="id" type="variable">E0</span></a>) <span class="id" type="keyword">as</span> [ <span class="id" type="var">v0</span> ], (<a class="idref" href="EquivalenceClass.html#ClassInhabited"><span class="id" type="projection">ClassInhabited</span></a> <a class="idref" href="EquivalenceClass.html#apply2.E1"><span class="id" type="variable">E1</span></a>) <span class="id" type="keyword">as</span> [ <span class="id" type="var">v1</span> ]; <span class="id" type="tactic">∃</span> (<a class="idref" href="EquivalenceClass.html#apply2.f"><span class="id" type="variable">f</span></a> <span class="id" type="var">v0</span> <span class="id" type="var">v1</span>); <span class="id" type="tactic">repeat</span> <span class="id" type="var">esplit</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eauto</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#apply2.f_mor"><span class="id" type="variable">f_mor</span></a>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">destruct_hypotheses</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">esplit</span>; <span class="id" type="var">clear_InClass</span>; <span class="id" type="var">repeat_subst_mor_of_type</span> <a class="idref" href="EquivalenceClass.html#apply2.value'"><span class="id" type="variable">value'</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#apply2.f_mor"><span class="id" type="variable">f_mor</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span> || <span class="id" type="tactic">assumption</span> || <span class="id" type="var">etransitivity</span>; <span class="id" type="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="apply2_to_class_f_inj"><span class="id" type="lemma">apply2_to_class_f_inj</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v0</span> <span class="id" type="var">v1</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2.E0"><span class="id" type="variable">E0</span></a> <a class="idref" href="EquivalenceClass.html#v0"><span class="id" type="variable">v0</span></a> → <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2.E1"><span class="id" type="variable">E1</span></a> <a class="idref" href="EquivalenceClass.html#v1"><span class="id" type="variable">v1</span></a> → <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2_to_class"><span class="id" type="definition">apply2_to_class</span></a> (<a class="idref" href="EquivalenceClass.html#apply2.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v0"><span class="id" type="variable">v0</span></a> <a class="idref" href="EquivalenceClass.html#v1"><span class="id" type="variable">v1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">compute</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="apply2_to_class_f_surj"><span class="id" type="lemma">apply2_to_class_f_surj</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">v</span>, <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2_to_class"><span class="id" type="definition">apply2_to_class</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">v0</span> <span class="id" type="var">v1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="EquivalenceClass.html#apply2.equiv'"><span class="id" type="variable">equiv'</span></a> <a class="idref" href="EquivalenceClass.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="EquivalenceClass.html#apply2.f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#v0"><span class="id" type="variable">v0</span></a> <a class="idref" href="EquivalenceClass.html#v1"><span class="id" type="variable">v1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2.E0"><span class="id" type="variable">E0</span></a> <a class="idref" href="EquivalenceClass.html#v0"><span class="id" type="variable">v0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <a class="idref" href="EquivalenceClass.html#apply2.E1"><span class="id" type="variable">E1</span></a> <a class="idref" href="EquivalenceClass.html#v1"><span class="id" type="variable">v1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">compute</span>; <span class="id" type="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="EquivalenceClass.html#apply2"><span class="id" type="section">apply2</span></a>.<br/>

<br/>
<span class="id" type="keyword">Hint Resolve</span> <a class="idref" href="EquivalenceClass.html#apply2_to_class_f_inj"><span class="id" type="lemma">apply2_to_class_f_inj</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="apply2_to_classOf"><span class="id" type="lemma">apply2_to_classOf</span></a><br/>
&nbsp;&nbsp;<span class="id" type="var">value0</span> <span class="id" type="var">equiv0</span> <span class="id" type="var">equiv0_eqv</span><br/>
&nbsp;&nbsp;<span class="id" type="var">value1</span> <span class="id" type="var">equiv1</span> <span class="id" type="var">equiv1_eqv</span><br/>
&nbsp;&nbsp;<span class="id" type="var">value'</span> <span class="id" type="var">equiv'</span> <span class="id" type="var">equiv'_eqv</span><br/>
&nbsp;&nbsp;<span class="id" type="var">f</span> <span class="id" type="var">f_mor</span> <span class="id" type="var">e0</span> <span class="id" type="var">e1</span> :<br/>
&nbsp;&nbsp;@<a class="idref" href="EquivalenceClass.html#apply2_to_class"><span class="id" type="definition">apply2_to_class</span></a> <a class="idref" href="EquivalenceClass.html#value0"><span class="id" type="variable">value0</span></a> <a class="idref" href="EquivalenceClass.html#equiv0"><span class="id" type="variable">equiv0</span></a> <a class="idref" href="EquivalenceClass.html#value1"><span class="id" type="variable">value1</span></a> <a class="idref" href="EquivalenceClass.html#equiv1"><span class="id" type="variable">equiv1</span></a> <a class="idref" href="EquivalenceClass.html#value'"><span class="id" type="variable">value'</span></a> <a class="idref" href="EquivalenceClass.html#equiv'"><span class="id" type="variable">equiv'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="EquivalenceClass.html#equiv'_eqv"><span class="id" type="variable">equiv'_eqv</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="EquivalenceClass.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#f_mor"><span class="id" type="variable">f_mor</span></a><br/>
&nbsp;&nbsp;(@<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#equiv0_eqv"><span class="id" type="variable">equiv0_eqv</span></a> <a class="idref" href="EquivalenceClass.html#e0"><span class="id" type="variable">e0</span></a>)<br/>
&nbsp;&nbsp;(@<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#equiv1_eqv"><span class="id" type="variable">equiv1_eqv</span></a> <a class="idref" href="EquivalenceClass.html#e1"><span class="id" type="variable">e1</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> @<a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="EquivalenceClass.html#equiv'_eqv"><span class="id" type="variable">equiv'_eqv</span></a> (<a class="idref" href="EquivalenceClass.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="EquivalenceClass.html#e0"><span class="id" type="variable">e0</span></a> <a class="idref" href="EquivalenceClass.html#e1"><span class="id" type="variable">e1</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#EquivalenceClass_forall__eq"><span class="id" type="lemma">EquivalenceClass_forall__eq</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">hnf</span> <span class="id" type="keyword">in</span> *; <span class="id" type="var">destruct_hypotheses</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="var">clear_InClass</span>; <span class="id" type="tactic">eexists</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">split</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">clear_InClass</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">repeat_subst_mor_of_type</span> <span class="id" type="var">value'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">hnf</span> <span class="id" type="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <span class="id" type="var">f_mor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eauto</span>; <span class="id" type="tactic">reflexivity</span> || (<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">assumption</span>).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="description"><span class="id" type="section">description</span></a>.<br/>
</div>

<div class="doc">
Can be imported from Coq.Logic.ClassicalDescription,
      Coq.Logic.ClassicalEpsilon, Coq.Logic.ConstructiveEpsilon,
      Coq.Logic.Epsilon, Coq.Logic.IndefiniteDescription, or, for the
      axiom, Coq.Logic.Description 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="description.constructive_definite_description"><span class="id" type="variable">constructive_definite_description</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">∀</span> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">P</span> : <a class="idref" href="EquivalenceClass.html#A"><span class="id" type="variable">A</span></a>→<span class="id" type="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_'!'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_'!'_x_'..'_x_','_x"><span class="id" type="notation">!</span></a> <span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_'!'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="EquivalenceClass.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="EquivalenceClass.html#x"><span class="id" type="variable">x</span></a>) → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="EquivalenceClass.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">|</span></a> <a class="idref" href="EquivalenceClass.html#P"><span class="id" type="variable">P</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="description.T"><span class="id" type="variable">T</span></a> : <span class="id" type="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="EquivalenceClass_eq_lift"><span class="id" type="definition">EquivalenceClass_eq_lift</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#eq"><span class="id" type="inductive">eq</span></a> <a class="idref" href="EquivalenceClass.html#description.T"><span class="id" type="variable">T</span></a>) → <a class="idref" href="EquivalenceClass.html#description.T"><span class="id" type="variable">T</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_'!'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_'!'_x_'..'_x_','_x"><span class="id" type="notation">!</span></a> <span class="id" type="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_'!'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="EquivalenceClass.html#InClass"><span class="id" type="projection">InClass</span></a> <span class="id" type="var">x</span> <a class="idref" href="EquivalenceClass.html#u"><span class="id" type="variable">u</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#description.constructive_definite_description"><span class="id" type="variable">constructive_definite_description</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> (<a class="idref" href="EquivalenceClass.html#ClassInhabited"><span class="id" type="projection">ClassInhabited</span></a> <span class="id" type="var">x</span>) <span class="id" type="keyword">as</span> [<span class="id" type="var">u</span> <span class="id" type="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> <span class="id" type="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; [ <span class="id" type="tactic">exact</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> (<a class="idref" href="EquivalenceClass.html#ClassElementsEquivalent"><span class="id" type="projection">ClassElementsEquivalent</span></a> <span class="id" type="var">x</span>); <span class="id" type="tactic">assumption</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="EquivalenceClass_eq_proj"><span class="id" type="definition">EquivalenceClass_eq_proj</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="EquivalenceClass.html#description.T"><span class="id" type="variable">T</span></a> → <a class="idref" href="EquivalenceClass.html#EquivalenceClass"><span class="id" type="record">EquivalenceClass</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#eq"><span class="id" type="inductive">eq</span></a> <a class="idref" href="EquivalenceClass.html#description.T"><span class="id" type="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#classOf"><span class="id" type="definition">classOf</span></a>; <span class="id" type="tactic">abstract</span> <span class="id" type="var">typeclasses</span> <span class="id" type="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="EquivalenceClass_eq_iso1"><span class="id" type="lemma">EquivalenceClass_eq_iso1</span></a><br/>
&nbsp;&nbsp;: <span class="id" type="keyword">∀</span> <span class="id" type="var">x</span>, <a class="idref" href="EquivalenceClass.html#EquivalenceClass_eq_lift"><span class="id" type="definition">EquivalenceClass_eq_lift</span></a> (<a class="idref" href="EquivalenceClass.html#EquivalenceClass_eq_proj"><span class="id" type="definition">EquivalenceClass_eq_proj</span></a> <a class="idref" href="EquivalenceClass.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">expand</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" type="var">appcontext</span>[<span class="id" type="keyword">match</span> ?<span class="id" type="var">E</span> <span class="id" type="keyword">with</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">_</span> <span class="id" type="keyword">end</span>] ] ⇒ <span class="id" type="tactic">case</span> <span class="id" type="var">E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="EquivalenceClass_eq_iso2"><span class="id" type="lemma">EquivalenceClass_eq_iso2</span></a><br/>
&nbsp;&nbsp;: <span class="id" type="keyword">∀</span> <span class="id" type="var">x</span>, <a class="idref" href="EquivalenceClass.html#EquivalenceClass_eq_proj"><span class="id" type="definition">EquivalenceClass_eq_proj</span></a> (<a class="idref" href="EquivalenceClass.html#EquivalenceClass_eq_lift"><span class="id" type="definition">EquivalenceClass_eq_lift</span></a> <a class="idref" href="EquivalenceClass.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="EquivalenceClass.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="EquivalenceClass.html#sameClass_eq"><span class="id" type="lemma">sameClass_eq</span></a>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">hnf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="EquivalenceClass.html#EquivalenceClass_eq_lift"><span class="id" type="definition">EquivalenceClass_eq_lift</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" type="var">appcontext</span>[<span class="id" type="keyword">match</span> ?<span class="id" type="var">E</span> <span class="id" type="keyword">with</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">_</span> <span class="id" type="keyword">end</span>] ] ⇒ <span class="id" type="tactic">case</span> <span class="id" type="var">E</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">intros</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="EquivalenceClass.html#ClassElementsEquivalent"><span class="id" type="projection">ClassElementsEquivalent</span></a> <span class="id" type="var">x</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="EquivalenceClass.html#description"><span class="id" type="section">description</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>